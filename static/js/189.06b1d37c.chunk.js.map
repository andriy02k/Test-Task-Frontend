{"version":3,"file":"static/js/189.06b1d37c.chunk.js","mappings":"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","sources":["api/api.js","api/chatApi.js","images/icons.svg","components/Icons/Icons.jsx","webpack://test-task-frontend/./src/components/Modal/Modal.module.css?28d7","components/Modal/Modal.jsx","webpack://test-task-frontend/./src/components/EditChatModal/EditChatModal.module.css?3821","components/EditChatModal/EditChatModal.jsx","webpack://test-task-frontend/./src/components/AddModal/AddModal.module.css?d383","components/AddModal/AddModal.jsx","webpack://test-task-frontend/./src/components/ChatList/ChatList.module.css?65df","components/ChatList/ChatList.jsx","webpack://test-task-frontend/./src/components/Layout/Layout.module.css?3701","components/Layout/Layout.jsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const api = axios.create({\r\n  baseURL: \"http://localhost:8080/api/chats\",\r\n});\r\n","import { api } from \"./api\";\r\n\r\nexport const getChats = async () => {\r\n  const { data } = await api.get(`/`);\r\n  return data;\r\n};\r\n\r\nexport const getChatById = async (id) => {\r\n  const { data } = await api.get(`/${id}`);\r\n  return data;\r\n};\r\n\r\nexport const createChat = async (userData) => {\r\n  const { data } = await api.post(`/`, userData);\r\n  return data;\r\n};\r\n\r\nexport const updateChat = async (id, newData) => {\r\n  const { data } = await api.put(`/${id}`, newData);\r\n  return data;\r\n};\r\n\r\nexport const deleteChat = async (id) => {\r\n  const { data } = await api.delete(`/${id}`);\r\n  return data;\r\n};\r\n\r\nexport const sendMessage = async (id, message) => {\r\n  const { data } = await api.post(`/${id}/messages`, message);\r\n  return data;\r\n};\r\n","var _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgIcons(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    style: {\n      position: \"absolute\",\n      width: 0,\n      height: 0,\n      overflow: \"hidden\"\n    },\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"symbol\", {\n    id: \"icon-pencil\",\n    viewBox: \"0 0 32 32\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M27 0c2.761 0 5 2.239 5 5 0 1.126-0.372 2.164-1 3l-2 2-7-7 2-2c0.836-0.628 1.874-1 3-1zM2 23l-2 9 9-2 18.5-18.5-7-7-18.5 18.5zM22.362 11.362l-14 14-1.724-1.724 14-14 1.724 1.724z\"\n  })), /*#__PURE__*/React.createElement(\"symbol\", {\n    id: \"icon-rocket\",\n    viewBox: \"0 0 32 32\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22 2l-10 10h-6l-6 8c0 0 6.357-1.77 10.065-0.94l-10.065 12.94 13.184-10.255c1.839 4.208-1.184 10.255-1.184 10.255l8-6v-6l10-10 2-10-10 2z\"\n  })), /*#__PURE__*/React.createElement(\"symbol\", {\n    id: \"icon-bin2\",\n    viewBox: \"0 0 32 32\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 32h20l2-22h-24zM20 4v-4h-8v4h-10v6l2-2h24l2 2v-6h-10zM18 4h-4v-2h4v2z\"\n  })), /*#__PURE__*/React.createElement(\"symbol\", {\n    id: \"icon-plus\",\n    viewBox: \"0 0 32 32\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M31 12h-11v-11c0-0.552-0.448-1-1-1h-6c-0.552 0-1 0.448-1 1v11h-11c-0.552 0-1 0.448-1 1v6c0 0.552 0.448 1 1 1h11v11c0 0.552 0.448 1 1 1h6c0.552 0 1-0.448 1-1v-11h11c0.552 0 1-0.448 1-1v-6c0-0.552-0.448-1-1-1z\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcons);\nexport default __webpack_public_path__ + \"static/media/icons.e0d4449320af6be040b2c066d6e82502.svg\";\nexport { ForwardRef as ReactComponent };","import Icons from \"../../images/icons.svg\";\r\n\r\nexport const Svg = ({ id, width, height }) => {\r\n  return (\r\n    <svg width={width} height={height}>\r\n      <use href={Icons + id}></use>\r\n    </svg>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"Modal_backdrop__gmEar\",\"backdropActive\":\"Modal_backdropActive__tYuj1\",\"modalContent\":\"Modal_modalContent__Iyu4w\",\"modalContentActive\":\"Modal_modalContentActive__S2f4S\",\"button\":\"Modal_button__Npo+Q\"};","import React, { useEffect, useCallback } from \"react\";\r\nimport css from \"./Modal.module.css\";\r\n\r\nconst Modal = ({ children, onClose, showModal, addModal }) => {\r\n  const handlerClick = useCallback(\r\n    (e) => {\r\n      if (e.code === \"Escape\") onClose();\r\n      if (e.currentTarget === e.target) onClose();\r\n    },\r\n    [onClose]\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handlerClick);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handlerClick);\r\n    };\r\n  }, [handlerClick]);\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        showModal || addModal\r\n          ? css.backdrop + \" \" + css.backdropActive\r\n          : css.backdrop\r\n      }\r\n      onClick={handlerClick}\r\n    >\r\n      <div\r\n        className={\r\n          showModal || addModal\r\n            ? css.modalContent + \" \" + css.modalContentActive\r\n            : css.modalContent\r\n        }\r\n      >\r\n        <button className={css.button} onClick={() => onClose()}></button>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"EditChatModal_form__bFZiq\",\"label\":\"EditChatModal_label__xCXyo\",\"input\":\"EditChatModal_input__BsgyI\",\"button\":\"EditChatModal_button__vjKDW\"};","import React, { useState } from \"react\";\r\nimport { updateChat } from \"../../api/chatApi\";\r\nimport css from \"./EditChatModal.module.css\";\r\n\r\nconst EditChatModal = ({ chatId }) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      await updateChat(chatId, { firstName, lastName });\r\n      setFirstName(\"\");\r\n      setLastName(\"\");\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  return (\r\n    <form className={css.form} onSubmit={handleSubmit}>\r\n      <label className={css.label}>Edit user data</label>\r\n      <input\r\n        className={css.input}\r\n        type=\"text\"\r\n        value={firstName}\r\n        onChange={(e) => setFirstName(e.target.value)}\r\n        placeholder=\"First Name\"\r\n      />\r\n      <input\r\n        className={css.input}\r\n        type=\"text\"\r\n        value={lastName}\r\n        onChange={(e) => setLastName(e.target.value)}\r\n        placeholder=\"Last Name\"\r\n      />\r\n      <button className={css.button} type=\"submit\">\r\n        Send\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditChatModal;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"AddModal_form__RXXm8\",\"label\":\"AddModal_label__yTi1B\",\"input\":\"AddModal_input__jMQpQ\",\"button\":\"AddModal_button__WkvYX\"};","import React, { useState } from \"react\";\r\nimport { createChat } from \"../../api/chatApi\";\r\nimport css from \"./AddModal.module.css\";\r\n\r\nconst EditChatModal = () => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      console.log({ firstName, lastName });\r\n      await createChat({ firstName, lastName });\r\n      setFirstName(\"\");\r\n      setLastName(\"\");\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  return (\r\n    <form className={css.form} onSubmit={handleSubmit}>\r\n      <label className={css.label}>Add a new user</label>\r\n      <input\r\n        className={css.input}\r\n        type=\"text\"\r\n        value={firstName}\r\n        onChange={(e) => setFirstName(e.target.value)}\r\n        placeholder=\"First Name\"\r\n        required\r\n      />\r\n      <input\r\n        className={css.input}\r\n        type=\"text\"\r\n        value={lastName}\r\n        onChange={(e) => setLastName(e.target.value)}\r\n        placeholder=\"Last Name\"\r\n        required\r\n      />\r\n      <button className={css.button} type=\"submit\">\r\n        Send\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditChatModal;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ChatList_container__51SPM\",\"topContainer\":\"ChatList_topContainer__A3OZ5\",\"buttonContainer\":\"ChatList_buttonContainer__sTPtq\",\"img\":\"ChatList_img__zEzmV\",\"button\":\"ChatList_button__t8S1O\",\"input\":\"ChatList_input__pFsZJ\",\"plus\":\"ChatList_plus__c5PSl\",\"title\":\"ChatList_title__sFMAQ\",\"list\":\"ChatList_list__jmWNc\",\"item\":\"ChatList_item__9SHlk\",\"imgContainer\":\"ChatList_imgContainer__CfYjy\",\"nameContainer\":\"ChatList_nameContainer__ZsEPz\",\"name\":\"ChatList_name__OS7Lx\",\"message\":\"ChatList_message__f2F+t\",\"dateContainer\":\"ChatList_dateContainer__ubuV8\",\"date\":\"ChatList_date__niTFM\",\"edit\":\"ChatList_edit__WGGIE\",\"delete\":\"ChatList_delete__bXB9B\"};","import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { getChats, deleteChat } from \"../../api/chatApi.js\";\r\nimport Modal from \"../Modal/Modal.jsx\";\r\nimport EditChatModal from \"../EditChatModal/EditChatModal.jsx\";\r\nimport AddModal from \"../AddModal/AddModal.jsx\";\r\nimport css from \"./ChatList.module.css\";\r\nimport userImage from \"../../images/user.png\";\r\nimport { Svg } from \"../Icons/Icons.jsx\";\r\n\r\nconst ChatList = () => {\r\n  const [chats, setChats] = useState([]);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [refresh, setRefresh] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [selectedChatId, setSelectedChatId] = useState(null);\r\n  const [addModal, setAddModal] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchChats = async () => {\r\n      try {\r\n        const chatData = await getChats();\r\n        setChats(chatData);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchChats();\r\n  }, [refresh]);\r\n\r\n  const removeContact = async (id) => {\r\n    try {\r\n      await deleteChat(id);\r\n      setRefresh(!refresh);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleEditClick = (chatId) => {\r\n    setSelectedChatId(chatId);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setAddModal(false);\r\n    setSelectedChatId(null);\r\n    setRefresh(!refresh);\r\n  };\r\n\r\n  const filterChats = () => {\r\n    return chats.filter(\r\n      (chat) =>\r\n        chat.firstName.toLowerCase().includes(filter.toLowerCase()) ||\r\n        chat.lastName.toLowerCase().includes(filter.toLowerCase())\r\n    );\r\n  };\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value);\r\n  };\r\n\r\n  const filteredChats = filterChats();\r\n\r\n  const getLastMessage = (messages) => {\r\n    if (!messages || messages.length === 0) return \" \";\r\n    return messages[messages.length - 1];\r\n  };\r\n\r\n  const getDate = (curentDate) => {\r\n    const date = new Date(curentDate);\r\n\r\n    const formattedDate = date.toLocaleDateString(\"en-US\", {\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    });\r\n\r\n    return formattedDate;\r\n  };\r\n\r\n  const handleChatClick = (chatId) => {\r\n    console.log(chatId);\r\n    navigate(`/chat/${chatId}`);\r\n  };\r\n\r\n  return (\r\n    <div className={css.container}>\r\n      <div className={css.topContainer}>\r\n        <div className={css.buttonContainer}>\r\n          <img\r\n            className={css.img}\r\n            src={userImage}\r\n            alt=\"user\"\r\n            width={32}\r\n            height={32}\r\n          />\r\n          <button className={css.button} onClick={() => setAddModal(!addModal)}>\r\n            <Svg id={\"#icon-plus\"} width={12} height={12} />\r\n            Create new chat\r\n          </button>\r\n        </div>\r\n        {addModal && (\r\n          <Modal onClose={closeModal} addModal={addModal}>\r\n            <AddModal />\r\n          </Modal>\r\n        )}\r\n        <input\r\n          className={css.input}\r\n          type=\"text\"\r\n          value={filter}\r\n          onChange={handleFilterChange}\r\n          placeholder=\"Search on start new chat...\"\r\n        />\r\n      </div>\r\n      <h2 className={css.title}>Chats</h2>\r\n      <ul className={css.list}>\r\n        {filteredChats.map(({ firstName, lastName, _id, messages }) => (\r\n          <li\r\n            className={css.item}\r\n            key={_id}\r\n            onClick={() => handleChatClick(_id)}\r\n          >\r\n            <div className={css.imgContainer}>\r\n              <img\r\n                className={css.img}\r\n                src={userImage}\r\n                alt=\"user\"\r\n                width={32}\r\n                height={32}\r\n              />\r\n              <div className={css.nameContainer}>\r\n                <p className={css.name}>\r\n                  {firstName} {lastName}\r\n                </p>\r\n                <p className={css.message}>{getLastMessage(messages).text}</p>\r\n              </div>\r\n            </div>\r\n            <div className={css.dateContainer}>\r\n              <p className={css.date}>\r\n                {getDate(getLastMessage(messages).createdAt)}\r\n              </p>\r\n              <div className={css.buttonContainer}>\r\n                <button\r\n                  className={css.edit}\r\n                  onClick={() => handleEditClick(_id)}\r\n                >\r\n                  <Svg id={\"#icon-pencil\"} width={12} height={12} />\r\n                </button>\r\n                <button\r\n                  className={css.delete}\r\n                  onClick={() => removeContact(_id)}\r\n                >\r\n                  <Svg id={\"#icon-bin2\"} width={12} height={12} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        ))}\r\n        {showModal && (\r\n          <Modal onClose={closeModal} showModal={showModal}>\r\n            <EditChatModal chatId={selectedChatId} />\r\n          </Modal>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatList;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Layout_container__4hU7d\",\"chatWindow\":\"Layout_chatWindow__PHtwS\"};","import React from \"react\";\r\nimport { Outlet } from \"react-router-dom\";\r\nimport ChatList from \"../ChatList/ChatList\";\r\nimport css from \"./Layout.module.css\";\r\n\r\nconst Layout = () => {\r\n  return (\r\n    <div className={css.container}>\r\n      <ChatList />\r\n      <div className={css.chatWindow}>\r\n        <Outlet />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"],"names":["api","axios","create","baseURL","getChats","async","data","get","getChatById","id","createChat","post","userData","updateChat","newData","put","deleteChat","delete","sendMessage","message","Svg","_ref","width","height","_jsx","children","href","Icons","onClose","showModal","addModal","handlerClick","useCallback","e","code","currentTarget","target","useEffect","document","addEventListener","removeEventListener","className","css","onClick","_jsxs","chatId","firstName","setFirstName","useState","lastName","setLastName","onSubmit","event","preventDefault","error","console","type","value","onChange","placeholder","EditChatModal","log","required","ChatList","chats","setChats","filter","setFilter","refresh","setRefresh","setShowModal","selectedChatId","setSelectedChatId","setAddModal","navigate","useNavigate","chatData","fetchChats","closeModal","filteredChats","chat","toLowerCase","includes","getLastMessage","messages","length","src","userImage","alt","Modal","AddModal","map","_id","handleChatClick","text","curentDate","createdAt","Date","toLocaleDateString","year","month","day","removeContact","Layout","Outlet"],"sourceRoot":""}